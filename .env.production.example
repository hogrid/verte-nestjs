# ===========================================
# ENVIRONMENT VARIABLES - PRODUÇÃO
# ===========================================
# Copie este arquivo para .env e preencha com os valores reais
# NO Coolify: configure estas variáveis no painel, não crie arquivo .env

# ===========================================
# APPLICATION
# ===========================================
NODE_ENV=production
PORT=3006

# ===========================================
# CORS - Allowed origins (comma-separated)
# ===========================================
# Domínios de produção do frontend
CORS_ORIGIN=https://w-verte.com.br,https://www.w-verte.com.br,https://api.w-verte.com.br

# ===========================================
# DATABASE (MySQL - Compartilhado com Laravel)
# ===========================================
# No Coolify, use database gerenciado ou externo
DB_HOST=db_mysql_production
DB_PORT=3306
DB_DATABASE=VerteApp
DB_USERNAME=verte_user
DB_PASSWORD=SUASENHASEGURA_AQUI

# ===========================================
# JWT (Autenticação)
# ===========================================
# CRÍTICO: Use uma string aleatória segura em produção
# Gerar em: openssl rand -base64 32
# Development: verte-development-secret-key-change-in-production
JWT_SECRET=SUASENHASEGURA_AQUI_MINIMO_32_CARACTERES
JWT_EXPIRATION=86400

# ===========================================
# REDIS (Cache e Filas)
# ===========================================
# No Coolify, use Redis gerenciado ou o serviço do docker-compose
REDIS_HOST=redis_production
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# EVOLUTION API (WhatsApp)
# ===========================================
# URL do Evolution API (pode ser serviço interno ou externo)
# Development: http://localhost:8080
EVOLUTION_API_URL=http://evolution-api:8080
EVOLUTION_API_KEY=SUASENHASEGURA_EVOLUTION_API_AQUI

# Webhook URL para receber eventos do WhatsApp
# O Coolify irá preencher automaticamente
EVOLUTION_API_WEBHOOK_URL=

# ===========================================
# APPLICATION URLs
# ===========================================
# Development: http://localhost:3000
APP_URL=https://api.w-verte.com.br
# Development: http://localhost:3005
FRONTEND_URL=https://w-verte.com.br

# ===========================================
# STRIPE (Pagamentos)
# ===========================================
# Obter do dashboard do Stripe: https://dashboard.stripe.com/apikeys
# Development: sk_test_xxx
# Production: COPIE_AQUI_SUA_STRIPE_SECRET_KEY
STRIPE_SECRET_KEY=COPIE_AQUI_SUA_STRIPE_SECRET_KEY

# Webhook secret: configure no Stripe e copie o secret
# Development: whsec_xxx
# Production: COPIE_AQUI_SUA_WEBHOOK_SECRET
STRIPE_WEBHOOK_SECRET=COPIE_AQUI_SUA_WEBHOOK_SECRET

# ===========================================
# Evolution PostgreSQL (para dados das instâncias)
# ===========================================
EVOLUTION_PG_URI=postgresql://postgres:SUA_SENHA@postgres:5432/evolution

# ===========================================
# Evolution Server URL (para QR Code)
# ===========================================
EVOLUTION_SERVER_URL=https://api.w-verte.com.br

# ===========================================
# NOTAS PARA DEPLOY NO COOLIFY
# ===========================================
#
# 1. BANCO DE DADOS:
#    - Use o banco de dados gerenciado pelo Coolify (MySQL/PostgreSQL)
#    - Ou conecte ao banco existente (compartilhado com Laravel)
#
# 2. REDIS:
#    - Use o Redis gerenciado pelo Coolify
#    - Ou use o serviço Redis do docker-compose.prod.yml
#
# 3. VOLUMES:
#    - Configure um volume persistente para /app/uploads
#    - Isso garante que os arquivos upload não sejam perdidos
#
# 4. HEALTH CHECK:
#    - Configure: /api/v1/health
#    - Intervalo: 30s
#    - Timeout: 10s
#
# 5. PORTA:
#    - Porta do container: 3000
#    - Porta exposta: configure no Coolify
#
# 6. SEGREDO:
#    - NUNCA commit o .env com valores reais
#    - Use variáveis de ambiente do Coolify
